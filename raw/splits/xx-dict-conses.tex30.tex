====== Function BUTLAST, NBUTLAST ======

====Syntax====

**butlast {list** //\opt} n// → //result-list// **nbutlast {list** //\opt} n// → //result-list//

====Arguments and Values====

//list// - a //[[CL:Glossary:list]]//,

which might be a //[[CL:Glossary:dotted list]]// but must not be a //[[CL:Glossary:circular list]]//.

//n// - a non-negative //[[CL:Glossary:integer]]//.

//result-list// - a //[[CL:Glossary:list]]//.

====Description====

**[[CL:Functions:butlast]]** returns a copy of //list// from which the last //n//

conses

have been omitted. If //n// is not supplied, its value is 1. If there are fewer than //n//

conses

in //list//, **[[CL:Constant Variables:nil]]** is returned and, in the case of **[[CL:Functions:nbutlast]]**, //list// is not modified.

**[[CL:Functions:nbutlast]]** is like **[[CL:Functions:butlast]]**, but **[[CL:Functions:nbutlast]]** may modify //list//. It changes the //[[CL:Glossary:cdr]]// of the //[[CL:Glossary:cons]]// //n//+1 from the end of the //list// to **[[CL:Constant Variables:nil]]**.

====Examples==== <blockquote> ([[CL:Macros:defparameter]] lst '(1 2 3 4 5 6 7 8 9)) → (1 2 3 4 5 6 7 8 9) (butlast lst) → (1 2 3 4 5 6 7 8) (butlast lst 5) → (1 2 3 4) (butlast lst (+ 5 5)) → NIL lst → (1 2 3 4 5 6 7 8 9) (nbutlast lst 3) → (1 2 3 4 5 6) lst → (1 2 3 4 5 6) (nbutlast lst 99) → NIL lst → (1 2 3 4 5 6) (butlast '(a b c d)) → (A B C) (butlast '((a b) (c d))) → ((A B)) (butlast '(a)) → NIL (butlast nil) → NIL ([[CL:Macros:defparameter]] foo (list 'a 'b 'c 'd)) → (A B C D) (nbutlast foo) → (A B C) foo → (A B C) (nbutlast (list 'a)) → NIL (nbutlast '()) → NIL </blockquote>

====Affected By====

None.

====Exceptional Situations====

Should signal an error of type type-error if //list// is not a //[[CL:Glossary:proper list]]// or a //[[CL:Glossary:dotted list]]//.

Should signal an error of type type-error if //n// is not a non-negative //[[CL:Glossary:integer]]//.

====See Also====

None.

====Notes====

<blockquote> (butlast //list// //n//) ≡ (ldiff //list// (last //list// //n//)) </blockquote>



\issue{DOTTED-LIST-ARGUMENTS:CLARIFY} \issue{DOTTED-LIST-ARGUMENTS:CLARIFY} \issue{BUTLAST-NEGATIVE:SHOULD-SIGNAL} \issue{DOTTED-LIST-ARGUMENTS:CLARIFY} \issue{DOTTED-LIST-ARGUMENTS:CLARIFY} \issue{BUTLAST-NEGATIVE:SHOULD-SIGNAL} \issue{DOTTED-LIST-ARGUMENTS:CLARIFY}
