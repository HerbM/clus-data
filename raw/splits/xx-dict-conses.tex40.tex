====== Function ASSOC, ASSOC-IF, ASSOC-IF-NOT ======

====Syntax====

**assoc {item alist** //\key} key test test-not// → //entry//

**assoc-if {predicate alist** //\key} key// → //entry// **assoc-if-not {predicate alist** //\key} key// → //entry//

====Arguments and Values====

//item// - an //[[CL:Glossary:object]]//.

//alist// - an //[[CL:Glossary:association list]]//.

//predicate// - a //[[CL:Glossary:designator]]// for a //[[CL:Glossary:function]]// of one //[[CL:Glossary:argument]]// that returns a //[[CL:Glossary:generalized boolean]]//.

//test// - a //[[CL:Glossary:designator]]// for a //[[CL:Glossary:function]]// of two //[[CL:Glossary:arguments]]// that returns a //[[CL:Glossary:generalized boolean]]//.

//test-not// - a //[[CL:Glossary:designator]]// for a //[[CL:Glossary:function]]// of two //[[CL:Glossary:arguments]]// that returns a //[[CL:Glossary:generalized boolean]]//.

//key// - a //[[CL:Glossary:designator]]// for a //[[CL:Glossary:function]]// of one argument, or **[[CL:Constant Variables:nil]]**.

//entry// - a //[[CL:Glossary:cons]]// that is an //[[CL:Glossary:element]]// of //alist//, or **[[CL:Constant Variables:nil]]**.

====Description====

**[[CL:Functions:assoc]]**, **[[CL:Functions:assoc-if]]**, and **[[CL:Functions:assoc-if-not]]** return the first //[[CL:Glossary:cons]]// in //alist// whose //[[CL:Glossary:car]]// //[[CL:Glossary:satisfies the test]]//, or **[[CL:Constant Variables:nil]]** if no such //[[CL:Glossary:cons]]// is found.


For **[[CL:Functions:assoc]]**, **[[CL:Functions:assoc-if]]**, and **[[CL:Functions:assoc-if-not]]**, if **[[CL:Constant Variables:nil]]** appears in //alist// in place of a pair, it is ignored.

====Examples====

<blockquote> ([[CL:Macros:defparameter]] values '((x . 100) (y . 200) (z . 50))) → ((X . 100) (Y . 200) (Z . 50)) (assoc 'y values) → (Y . 200) (rplacd (assoc 'y values) 201) → (Y . 201) (assoc 'y values) → (Y . 201) ([[CL:Macros:defparameter]] alist '((1 . "one")(2 . "two")(3 . "three"))) → ((1 . "one") (2 . "two") (3 . "three")) (assoc 2 alist) → (2 . "two") (assoc-if #'evenp alist) → (2 . "two") (assoc-if-not #'(lambda(x) (< x 3)) alist) → (3 . "three") ([[CL:Macros:defparameter]] alist '(("one" . 1)("two" . 2))) → (("one" . 1) ("two" . 2)) (assoc "one" alist) → NIL (assoc "one" alist :test #'equalp) → ("one" . 1) (assoc "two" alist :key #'(lambda(x) (char x 2))) → NIL (assoc #\\o alist :key #'(lambda(x) (char x 2))) → ("two" . 2) (assoc 'r '((a . b) (c . d) (r . x) (s . y) (r . z))) → (R . X) (assoc 'goo '((foo . bar) (zoo . goo))) → NIL (assoc '2 '((1 a b c) (2 b c d) (-7 x y z))) → (2 B C D) ([[CL:Macros:defparameter]] alist '(("one" . 1) ("2" . 2) ("three" . 3))) → (("one" . 1) ("2" . 2) ("three" . 3)) (assoc-if-not #'alpha-char-p alist :key #'(lambda (x) (char x 0))) → ("2" . 2) </blockquote>

====Affected By====

None.

====Exceptional Situations====

Should be prepared to signal an error of type type-error if //alist// is not an //[[CL:Glossary:association list]]//.

====See Also====

**[[CL:Functions:rassoc]]**, **[[CL:Functions:find]]**, **[[CL:Functions:member]]**, **[[CL:Functions:position]]**,

{\secref\TraversalRules}

====Notes====

The **'':test-not''** parameter is deprecated.

The //[[CL:Glossary:function]]// **[[CL:Functions:assoc-if-not]]** is deprecated.

It is possible to **[[CL:Functions:rplacd]]** the result of **[[CL:Functions:assoc]]**, provided that it is not **[[CL:Constant Variables:nil]]**, in order to "update" //alist//.

The two expressions

<blockquote> (assoc item list :test fn) </blockquote> and

<blockquote> (find item list :test fn :key #'car) </blockquote> are equivalent in meaning with one exception: if **[[CL:Constant Variables:nil]]** appears in //alist// in place of a pair, and //item// is **[[CL:Constant Variables:nil]]**, **[[CL:Functions:find]]** will compute the //[[CL:Glossary:car]]// of the **[[CL:Constant Variables:nil]]** in //alist//, find that it is equal to //item//, and return **[[CL:Constant Variables:nil]]**, whereas **[[CL:Functions:assoc]]** will ignore the **[[CL:Constant Variables:nil]]** in //alist// and continue to search for an actual //[[CL:Glossary:cons]]// whose //[[CL:Glossary:car]]// is **[[CL:Constant Variables:nil]]**.

\issue{ASSOC-RASSOC-IF-KEY:YES} \issue{ASSOC-RASSOC-IF-KEY} \issue{ASSOC-RASSOC-IF-KEY} \issue{MAPPING-DESTRUCTIVE-INTERACTION:EXPLICITLY-VAGUE} \issue{TEST-NOT-IF-NOT:FLUSH-ALL} \issue{TEST-NOT-IF-NOT:FLUSH-ALL}
