====== Function POSITION, POSITION-IF, POSITION-IF-NOT ======

====Syntax====

\DefunWithValues position {item sequence ''&key'' from-end test test-not start end key} {position}

**position-if {predicate sequence** //\key} from-end start end key// → //position// **position-if-not {predicate sequence** //\key} from-end start end key// → //position//

====Arguments and Values====

//item// - an //[[CL:Glossary:object]]//.

//sequence// - a //[[CL:Glossary:proper sequence]]//.

//predicate// - a //[[CL:Glossary:designator]]// for a //[[CL:Glossary:function]]// of one argument that returns a //[[CL:Glossary:generalized boolean]]//.

//from-end// - a //[[CL:Glossary:generalized boolean]]//. The default is //[[CL:Glossary:false]]//.

//test// - a //[[CL:Glossary:designator]]// for a //[[CL:Glossary:function]]// of two //[[CL:Glossary:arguments]]// that returns a //[[CL:Glossary:generalized boolean]]//.

//test-not// - a //[[CL:Glossary:designator]]// for a //[[CL:Glossary:function]]// of two //[[CL:Glossary:arguments]]// that returns a //[[CL:Glossary:generalized boolean]]//.

//start//, //end// - //[[CL:Glossary:bounding index designators]]// of //sequence//. \Defaults{//start// and //end//}{''0'' and **[[CL:Constant Variables:nil]]**}

//key// - a //[[CL:Glossary:designator]]// for a //[[CL:Glossary:function]]// of one argument, or **[[CL:Constant Variables:nil]]**.

//position// - a //[[CL:Glossary:bounding index]]// of //sequence//, or **[[CL:Constant Variables:nil]]**.

====Description====

**[[CL:Functions:position]]**, **[[CL:Functions:position-if]]**, and **[[CL:Functions:position-if-not]]** each search //sequence// for an //[[CL:Glossary:element]]// that //[[CL:Glossary:satisfies the test]]//.

The //position// returned is the index within //sequence// of the leftmost (if //from-end// is //[[CL:Glossary:true]]//) or of the rightmost (if //from-end// is //[[CL:Glossary:false]]//) //[[CL:Glossary:element]]// that //[[CL:Glossary:satisfies the test]]//; otherwise **[[CL:Constant Variables:nil]]** is returned.

The index returned is relative to the left-hand end of the entire //sequence//, regardless of the value of //[[CL:Glossary:start]]//, //[[CL:Glossary:end]]//, or //[[CL:Glossary:from-end]]//.

====Examples====

<blockquote> (position #\\a "baobab" :from-end t) → 4 (position-if #'oddp '((1) (2) (3) (4)) :start 1 :key #'car) → 2 (position 595 '()) → NIL (position-if-not #'integerp '(1 2 3 4 5.0)) → 4 </blockquote>

====Side Effects====

None.

====Affected By====

None.

====Exceptional Situations====

Should be prepared to signal an error of type type-error if //sequence// is not a //[[CL:Glossary:proper sequence]]//.

====See Also====

**[[CL:Functions:find]]**,

{\secref\TraversalRules}

====Notes====

The **'':test-not''** //[[CL:Glossary:argument]]// is deprecated.

The //[[CL:Glossary:function]]// **[[CL:Functions:position-if-not]]** is deprecated.



\issue{TEST-NOT-IF-NOT:FLUSH-ALL} \issue{SUBSEQ-OUT-OF-BOUNDS} \issue{RANGE-OF-START-AND-END-PARAMETERS:INTEGER-AND-INTEGER-NIL} \issue{MAPPING-DESTRUCTIVE-INTERACTION:EXPLICITLY-VAGUE} \issue{TEST-NOT-IF-NOT:FLUSH-ALL}
