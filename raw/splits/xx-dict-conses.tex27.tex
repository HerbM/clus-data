====== Function REVAPPEND, NRECONC ======

====Syntax====

**revappend** //list tail// → //result-list// **nreconc ** //list tail// → //result-list//

====Arguments and Values====

//list// - a //[[CL:Glossary:proper list]]//.

//tail// - an //[[CL:Glossary:object]]//.

//result-list// - an //[[CL:Glossary:object]]//.

====Description====

**[[CL:Functions:revappend]]** constructs a //[[CL:Glossary:copy]]// of //list//, but with the //[[CL:Glossary:element|elements]]// in reverse order. It then appends (as if by **[[CL:Functions:nconc]]**) the //tail// to that reversed list and returns the result.

**[[CL:Functions:nreconc]]** reverses the order of //[[CL:Glossary:element|elements]]// in //list// (as if by **[[CL:Functions:nreverse]]**). It then appends (as if by **[[CL:Functions:nconc]]**) the //tail// to that reversed list and returns the result.

The resulting //[[CL:Glossary:list]]// shares //[[CL:Glossary:list structure]]// with //tail//.

====Examples====

<blockquote> (let ((list-1 (list 1 2 3)) (list-2 (list 'a 'b 'c))) (print (revappend list-1 list-2)) (print (equal list-1 '(1 2 3))) (print (equal list-2 '(a b c))))
▷ (3 2 1 A B C)
▷ T
▷ T → T

(revappend '(1 2 3) '()) → (3 2 1) (revappend '(1 2 3) '(a . b)) → (3 2 1 A . B) (revappend '() '(a b c)) → (A B C) (revappend '(1 2 3) 'a) → (3 2 1 . A) (revappend '() 'a) → A ;degenerate case

(let ((list-1 '(1 2 3)) (list-2 '(a b c))) (print (nreconc list-1 list-2)) (print (equal list-1 '(1 2 3))) (print (equal list-2 '(a b c))))
▷ (3 2 1 A B C)
▷ NIL
▷ T → T

</blockquote>

====Side Effects====

**[[CL:Functions:revappend]]** does not modify either of its //[[CL:Glossary:arguments]]//. **[[CL:Functions:nreconc]]** is permitted to modify //list// but not //tail//.

Although it might be implemented differently, **[[CL:Functions:nreconc]]** is constrained to have side-effect behavior equivalent to:

<blockquote> (nconc (nreverse //list//) //tail//) </blockquote>

====Affected By====

None.

====Exceptional Situations====

None.

====See Also====

**[[CL:Functions:reverse]]**, **[[CL:Functions:nreverse]]**, **[[CL:Functions:nconc]]**

====Notes====

The following functional equivalences are true, although good //[[CL:Glossary:implementations]]// will typically use a faster algorithm for achieving the same effect:

<blockquote> (revappend //list// //tail//) ≡ (nconc (reverse //list//) //tail//) (nreconc //list// //tail//) ≡ (nconc (nreverse //list//) //tail//) </blockquote>

\issue{DOTTED-LIST-ARGUMENTS:CLARIFY} \issue{REMF-DESTRUCTION-UNSPECIFIED:X3J13-MAR-89}
