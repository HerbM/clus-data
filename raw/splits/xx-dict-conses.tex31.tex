====== Function LAST ======

====Syntax====

**last {list** //\opt} n// → //tail//

====Arguments and Values====

//list// - a //[[CL:Glossary:list]]//,

which might be a //[[CL:Glossary:dotted list]]// but must not be a //[[CL:Glossary:circular list]]//.

//n// - a non-negative //[[CL:Glossary:integer]]//. The default is ''1''.

//tail// - an //[[CL:Glossary:object]]//.

====Description====

**[[CL:Functions:last]]** returns the last //n// //[[CL:Glossary:conses]]// (not the last //n// elements) of //list//). If //list// is '''()'', **[[CL:Functions:last]]** returns '''()''.

If //n// is zero, the atom that terminates //list// is returned. If //n// is greater than or equal to the number of //[[CL:Glossary:cons]]// cells in //list//, the result is //list//.

====Examples====

<blockquote> (last nil) → NIL (last '(1 2 3)) → (3) (last '(1 2 . 3)) → (2 . 3) ([[CL:Macros:defparameter]] x (list 'a 'b 'c 'd)) → (A B C D) (last x) → (D) (rplacd (last x) (list 'e 'f)) x → (A B C D E F) (last x) → (F)

(last '(a b c)) → (C)

(last '(a b c) 0) → () (last '(a b c) 1) → (C) (last '(a b c) 2) → (B C) (last '(a b c) 3) → (A B C) (last '(a b c) 4) → (A B C)

(last '(a . b) 0) → B (last '(a . b) 1) → (A . B) (last '(a . b) 2) → (A . B) </blockquote>

====Side Effects====

None.

====Affected By====

None.

====Exceptional Situations====

The consequences are undefined if //list// is a //[[CL:Glossary:circular list]]//.

Should signal an error of type type-error if //n// is not a non-negative //[[CL:Glossary:integer]]//.

====See Also====

**[[CL:Functions:butlast]]**, **[[CL:Functions:nth]]**

====Notes====

The following code could be used to define **[[CL:Functions:last]]**.

<blockquote> (defun last (list &optional (n 1)) (check-type n (integer 0)) (do ((l list (cdr l)) (r list) (i 0 (+ i 1))) ((atom l) r) (if (>= i n) (pop r)))) </blockquote>

\issue{DOTTED-LIST-ARGUMENTS:CLARIFY} \issue{LAST-N} \issue{LAST-N} \issue{LAST-N} \issue{LAST-N} \issue{LAST-N}
