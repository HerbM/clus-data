====== Function MAKE-RANDOM-STATE ======

====Syntax====

**make-random-state** //''&optional'' state// → //new-state//

====Arguments and Values====

//state// - a //[[CL:Glossary:random state]]//, or **[[CL:Constant Variables:nil]]**, or \t. The default is **[[CL:Constant Variables:nil]]**.

//new-state// - a //[[CL:Glossary:random state]]// //[[CL:Glossary:object]]//.

====Description====

Creates a //[[CL:Glossary:fresh]]// //[[CL:Glossary:object]]// of type **[[CL:Types:random-state]]** suitable for use as \thevalueof{*random-state*}.

If //state// is a //[[CL:Glossary:random state]]// //[[CL:Glossary:object]]//, the //new-state// is a //[[CL:Glossary:copy]]// of that //[[CL:Glossary:object]]//. If //state// is **[[CL:Constant Variables:nil]]**, the //new-state// is a //[[CL:Glossary:copy]]// of the //[[CL:Glossary:current random state]]//. If //state// is \t, the //new-state// is a //[[CL:Glossary:fresh]]// //[[CL:Glossary:random state]]// //[[CL:Glossary:object]]// that has been randomly initialized by some means.

====Examples====

<blockquote> (let* ((rs1 (make-random-state nil)) (rs2 (make-random-state t)) (rs3 (make-random-state rs2)) (rs4 nil)) (list (loop for i from 1 to 10 collect (random 100) when (= i 5) do ([[CL:Macros:defparameter]] rs4 (make-random-state))) (loop for i from 1 to 10 collect (random 100 rs1)) (loop for i from 1 to 10 collect (random 100 rs2)) (loop for i from 1 to 10 collect (random 100 rs3)) (loop for i from 1 to 10 collect (random 100 rs4)))) → ((29 25 72 57 55 68 24 35 54 65) (29 25 72 57 55 68 24 35 54 65) (93 85 53 99 58 62 2 23 23 59) (93 85 53 99 58 62 2 23 23 59) (68 24 35 54 65 54 55 50 59 49)) </blockquote>

====Side Effects====

None.

====Affected By====

None.

====Exceptional Situations====

Should signal an error of type type-error if //state// is not a //[[CL:Glossary:random state]]//, or **[[CL:Constant Variables:nil]]**, or \t.

====See Also====

**[[CL:Functions:random]]**, **[[CL:Variables:*random-state*]]**

====Notes====

One important use of **[[CL:Functions:make-random-state]]** is to allow the same series of pseudo-random //[[CL:Glossary:number|numbers]]// to be generated many times within a single program.

